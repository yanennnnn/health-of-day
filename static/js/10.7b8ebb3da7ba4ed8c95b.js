webpackJsonp([10],{M5T3:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={components:{Pagination:s("spLH").a},data:function(){return{allProducts:[],products:[],category:"all",isLoading:!1,pagination:{}}},methods:{tempCategory:function(t){this.category=t},getProduct:function(){var t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/yanennn/products/all").then(function(a){t.products=a.data.products,t.isLoading=!1})},getAllProducts:function(){var t="https://vue-course-api.hexschool.io/api/yanennn/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),a=this;a.isLoading=!0,this.$http.get(t).then(function(t){a.isLoading=!1,a.allProducts=t.data.products,a.pagination=t.data.pagination})},addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this;s.isLoading=!0;var e={product_id:t,qty:a};this.$http.post("https://vue-course-api.hexschool.io/api/yanennn/cart",{data:e}).then(function(t){t.data.success?(s.$bus.$emit("message:push","已加入購物車","success"),s.$bus.$emit("cartCreate:push"),s.isLoading=!1):(s.$bus.$emit("message:push","出現錯誤!","danger"),s.isLoading=!1)})}},computed:{activeProducts:function(){var t=this;return"all"==t.category?t.allProducts:t.products.filter(function(a){if(a.category==t.category)return a})},outlineColor:function(){var t=this;return"all"==t.category?"#3D6654":"經典商品"==t.category?"#FF935E":"活力果汁"==t.category?"#A1BF5B":"營養沙拉"==t.category?"#F8E800":"酸甜優格"==t.category?"#fd7e14":void 0}},created:function(){this.getProduct(),this.getAllProducts(),$("html,body").scrollTop(0)}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("template",{slot:"default"},[e("img",{attrs:{src:s("GuUm"),width:"70px"}}),t._v(" "),e("img",{attrs:{src:s("CBvG"),width:"100px"}})])],2),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"container mt-3 products-info"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb bg-white"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{staticClass:"text-maple",attrs:{to:"/index"}},[t._v("Home")])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[e("router-link",{staticClass:"text-maple",attrs:{to:"/products"}},[t._v("Products")])],1)])]),t._v(" "),e("div",{staticClass:"products-info-category"},[e("ul",{staticClass:"d-flex list-unstyled mb-0 ml-3 "},[e("li",{staticClass:"text-center m-sm-0 mr-2",class:{active:"all"==t.category}},[e("a",{staticClass:"py-1 px-sm-2 px-0 rounded-top  products-list ",class:{active:"all"==t.category},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="all"}}},[t._v("全部商品")])]),t._v(" "),e("li",{staticClass:"text-center m-sm-0 mr-2",class:{active:"經典商品"==t.category}},[e("a",{staticClass:"py-1 px-sm-2 px-0  rounded-top  products-list",class:{active:"經典商品"==t.category},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="經典商品"}}},[t._v("經典商品")])]),t._v(" "),e("li",{staticClass:"text-center m-sm-0 mr-2",class:{active:"活力果汁"==t.category}},[e("a",{staticClass:"py-1 px-sm-2 px-0  rounded-top  products-list",class:{active:"活力果汁"==t.category},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="活力果汁"}}},[t._v("活力果汁")])]),t._v(" "),e("li",{staticClass:"text-center m-sm-0 mr-2",class:{active:"營養沙拉"==t.category}},[e("a",{staticClass:"py-1 px-sm-2 px-0  rounded-top  products-list",class:{active:"營養沙拉"==t.category},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="營養沙拉"}}},[t._v("營養沙拉")])]),t._v(" "),e("li",{staticClass:"text-center m-sm-0 mr-2",class:{active:"酸甜優格"==t.category}},[e("a",{staticClass:"py-1 px-sm-2 px-0  rounded-top  products-list",class:{active:"酸甜優格"==t.category},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.category="酸甜優格"}}},[t._v("酸甜優格")])])])]),t._v(" "),e("div",{staticClass:"outline p-md-5 p-1 rounded",style:{borderColor:t.outlineColor}},[e("div",{staticClass:"row"},t._l(t.activeProducts,function(a){return a.is_enabled?e("div",{key:a.id,staticClass:"col-lg-4 col-md-6 col-12 mb-4"},[e("div",{staticClass:"card border-0 "},[e("router-link",{staticClass:"products-info-img text-center text-decoration-none rounded",style:{backgroundImage:"url("+a.imageUrl+")"},attrs:{to:"/detail/"+a.id}},[e("div",[t._v("more...")])]),t._v(" "),e("div",{staticClass:"card-body "},[e("router-link",{staticClass:"card-title text-center d-block text-decoration-none h5",attrs:{to:"/detail/"+a.id}},[t._v(t._s(a.title))]),t._v(" "),e("p",{staticClass:"card-text products-info-content text-muted"},[t._v(t._s(a.content))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between "},[a.price!==a.origin_price?e("div",{staticClass:"products-info-price ml-1 "},[e("span",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(a.price)))]),e("span",{staticClass:"ml-2",staticStyle:{"font-style":"oblique","text-decoration":"line-through"}},[t._v(t._s(t._f("currency")(a.origin_price)))])]):e("div",{staticClass:"products-info-price ml-1 "},[e("span",{},[t._v(t._s(t._f("currency")(a.price)))])]),t._v(" "),e("a",{attrs:{href:"#"}},[e("font-awesome-icon",{staticClass:"align-middle",staticStyle:{"font-size":"20px"},attrs:{icon:["fas","shopping-basket"]},on:{click:function(s){return s.preventDefault(),t.addToCart(a.id)}}})],1)])],1)],1),t._v(" "),e("hr")]):t._e()}),0),t._v(" "),e("div",{staticClass:"d-flex justify-content-center"},["all"==t.category?e("Pagination",{attrs:{pageData:t.pagination},on:{emitpage:t.getAllProducts}}):t._e()],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fulid"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleCaptions","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}}),this._v(" "),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),this._v(" "),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})]),this._v(" "),a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("div",{staticClass:"carousel-img-1 bg-cover"},[a("div",{staticClass:"carousel-caption d-none d-md-block text-dark"})])]),this._v(" "),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"carousel-img-2 bg-cover"},[a("div",{staticClass:"carousel-caption d-none d-md-block text-dark"})])]),this._v(" "),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"carousel-img-3 bg-cover"},[a("div",{staticClass:"carousel-caption d-none d-md-block text-dark"})])])])])])}]},c=s("VU/8")(e,i,!1,null,null,null);a.default=c.exports}});
//# sourceMappingURL=10.7b8ebb3da7ba4ed8c95b.js.map